<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="icon" href="/favicon.ico" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />
	<meta name="renderer" content="webkit" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="企业预警通，百万金融专业人士都在用的工具平台" />
	<link rel="apple-touch-icon" href="./public/logo192.png" />
	<link rel="manifest" href="./public/manifest.json" />
</head>
<body>
<div id="app"></div>
<script type="module">
  if ('serviceWorker' in window.navigator) {
    navigator.serviceWorker.register('./sw.js', { scope: './' }).then(function (reg) {
      console.log('success', reg);
      // 从页面发送信息到 Serivce Worker 。
      navigator.serviceWorker.controller && navigator.serviceWorker.controller.postMessage("this message is from page");
  
    }).catch(function (err) {
      console.log('fail', err);
    });
  }

  // index.js
  navigator.serviceWorker.addEventListener('message', function (e) {
    console.log(e.data); // this message is from sw.js, to page
  });
</script>
</body>
</html>
